---
phase: 04-import-updates
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - components/feature-modules/entity/components/forms/enum-options-editor.tsx
  - components/feature-modules/entity/components/forms/instance/entity-field-registry.tsx
  - components/feature-modules/entity/components/forms/instance/entity-relationship-picker.tsx
  - components/feature-modules/entity/components/forms/type/attribute/schema-form.tsx
  - components/feature-modules/entity/components/forms/type/configuration-form.tsx
  - components/feature-modules/entity/components/forms/type/relationship/relationship-candidate.tsx
  - components/feature-modules/entity/components/forms/type/relationship/relationship-form.tsx
  - components/feature-modules/entity/components/tables/entity-data-table.tsx
  - components/feature-modules/entity/components/tables/entity-draft-row.tsx
  - components/feature-modules/entity/components/tables/entity-table-utils.tsx
  - components/feature-modules/entity/components/types/entity-type-data-table.tsx
  - components/feature-modules/entity/components/types/entity-type.tsx
  - components/feature-modules/entity/components/ui/modals/type/attribute-form-modal.tsx
  - components/feature-modules/entity/components/ui/modals/type/delete-definition-modal.tsx
  - components/feature-modules/entity/context/configuration-provider.tsx
  - components/feature-modules/entity/hooks/form/type/use-new-type-form.ts
  - components/feature-modules/entity/hooks/form/type/use-relationship-form.ts
  - components/feature-modules/entity/hooks/form/type/use-schema-form.ts
  - components/feature-modules/entity/hooks/query/type/use-relationship-candidates.ts
  - components/feature-modules/entity/hooks/use-entity-type-table.tsx
  - components/feature-modules/entity/stores/entity.store.ts
  - components/feature-modules/entity/util/relationship.util.ts
autonomous: true

must_haves:
  truths:
    - "No entity domain files import from @/lib/types/types"
    - "All entity enum references use PascalCase members"
    - "Entity domain files compile without type errors from migration"
  artifacts:
    - path: "components/feature-modules/entity/components/forms/instance/entity-field-registry.tsx"
      provides: "SchemaType enum usage"
      contains: "SchemaType.Text"
    - path: "components/feature-modules/entity/context/configuration-provider.tsx"
      provides: "EntityPropertyType enum usage"
      contains: "EntityPropertyType.Attribute"
  key_links:
    - from: "components/feature-modules/entity/**/*.tsx"
      to: "@/lib/types/entity"
      via: "import statements"
      pattern: "from ['\"]@/lib/types/entity['\"]"
---

<objective>
Update all entity domain files to import from @/lib/types/entity barrel instead of @/lib/types/types

Purpose: Migrate entity feature module to use domain-specific imports, completing IMP-01 requirement.

Output: 22 entity files with updated imports and enum member casing
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-import-updates/04-01-SUMMARY.md
@.planning/phases/04-import-updates/04-RESEARCH.md

@lib/types/entity/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update entity forms and components imports</name>
  <files>
    components/feature-modules/entity/components/forms/enum-options-editor.tsx
    components/feature-modules/entity/components/forms/instance/entity-field-registry.tsx
    components/feature-modules/entity/components/forms/instance/entity-relationship-picker.tsx
    components/feature-modules/entity/components/forms/type/attribute/schema-form.tsx
    components/feature-modules/entity/components/forms/type/configuration-form.tsx
    components/feature-modules/entity/components/forms/type/relationship/relationship-candidate.tsx
    components/feature-modules/entity/components/forms/type/relationship/relationship-form.tsx
  </files>
  <action>
For each file, update imports from `@/lib/types/types` to `@/lib/types/entity`.

**Import path changes:**
```typescript
// BEFORE
import { EntityPropertyType, SchemaType, ... } from "@/lib/types/types";

// AFTER
import { EntityPropertyType, SchemaType, ... } from "@/lib/types/entity";
```

**Enum member casing changes (apply to all references in file):**
- `SchemaType.TEXT` -> `SchemaType.Text`
- `SchemaType.NUMBER` -> `SchemaType.Number`
- `SchemaType.CHECKBOX` -> `SchemaType.Checkbox`
- `SchemaType.DATE` -> `SchemaType.Date`
- `SchemaType.DATETIME` -> `SchemaType.Datetime`
- `SchemaType.EMAIL` -> `SchemaType.Email`
- `SchemaType.PHONE` -> `SchemaType.Phone`
- `SchemaType.URL` -> `SchemaType.Url`
- `SchemaType.CURRENCY` -> `SchemaType.Currency`
- `SchemaType.PERCENTAGE` -> `SchemaType.Percentage`
- `SchemaType.RATING` -> `SchemaType.Rating`
- `SchemaType.SELECT` -> `SchemaType.Select`
- `SchemaType.MULTI_SELECT` -> `SchemaType.MultiSelect`
- `SchemaType.FILE_ATTACHMENT` -> `SchemaType.FileAttachment`
- `SchemaType.LOCATION` -> `SchemaType.Location`
- `SchemaType.OBJECT` -> `SchemaType.Object`
- `EntityPropertyType.ATTRIBUTE` -> `EntityPropertyType.Attribute`
- `EntityPropertyType.RELATIONSHIP` -> `EntityPropertyType.Relationship`
- `EntityRelationshipCardinality.ONE_TO_ONE` -> `EntityRelationshipCardinality.OneToOne`
- `EntityRelationshipCardinality.ONE_TO_MANY` -> `EntityRelationshipCardinality.OneToMany`
- `EntityRelationshipCardinality.MANY_TO_ONE` -> `EntityRelationshipCardinality.ManyToOne`
- `EntityRelationshipCardinality.MANY_TO_MANY` -> `EntityRelationshipCardinality.ManyToMany`
- `EntityTypeRelationshipType.ORIGIN` -> `EntityTypeRelationshipType.Origin`
- `EntityTypeRelationshipType.REFERENCE` -> `EntityTypeRelationshipType.Reference`
- `OptionSortingType.MANUAL` -> `OptionSortingType.Manual`
- `OptionSortingType.ALPHABETICAL` -> `OptionSortingType.Alphabetical`
  </action>
  <verify>
```bash
grep -r "from ['\"]@/lib/types/types['\"]" components/feature-modules/entity/components/forms/ | wc -l
# Should be 0
```
  </verify>
  <done>Entity form components import from @/lib/types/entity with PascalCase enum members</done>
</task>

<task type="auto">
  <name>Task 2: Update entity tables, types, modals, context, hooks, stores, utils</name>
  <files>
    components/feature-modules/entity/components/tables/entity-data-table.tsx
    components/feature-modules/entity/components/tables/entity-draft-row.tsx
    components/feature-modules/entity/components/tables/entity-table-utils.tsx
    components/feature-modules/entity/components/types/entity-type-data-table.tsx
    components/feature-modules/entity/components/types/entity-type.tsx
    components/feature-modules/entity/components/ui/modals/type/attribute-form-modal.tsx
    components/feature-modules/entity/components/ui/modals/type/delete-definition-modal.tsx
    components/feature-modules/entity/context/configuration-provider.tsx
    components/feature-modules/entity/hooks/form/type/use-new-type-form.ts
    components/feature-modules/entity/hooks/form/type/use-relationship-form.ts
    components/feature-modules/entity/hooks/form/type/use-schema-form.ts
    components/feature-modules/entity/hooks/query/type/use-relationship-candidates.ts
    components/feature-modules/entity/hooks/use-entity-type-table.tsx
    components/feature-modules/entity/stores/entity.store.ts
    components/feature-modules/entity/util/relationship.util.ts
  </files>
  <action>
For each file, apply same import path and enum casing changes as Task 1.

Additional enum member casing changes for these files:
- `DataType.STRING` -> `DataType.String`
- `DataType.NUMBER` -> `DataType.Number`
- `DataType.BOOLEAN` -> `DataType.Boolean`
- `EntityCategory.CUSTOM` -> `EntityCategory.Custom`
- `EntityCategory.SERVICE` -> `EntityCategory.Service`
- `DeleteAction.REMOVE_BIDIRECTIONAL` -> `DeleteAction.RemoveBidirectional`
- `DeleteAction.DELETE_RELATIONSHIP` -> `DeleteAction.DeleteRelationship`
- `DeleteAction.REMOVE_ENTITY_TYPE` -> `DeleteAction.RemoveEntityType`
- `EntityTypeRequestDefinition.SAVE_SCHEMA` -> `EntityTypeRequestDefinition.SaveSchema`
- `EntityTypeRequestDefinition.SAVE_RELATIONSHIP` -> `EntityTypeRequestDefinition.SaveRelationship`
- `EntityTypeRequestDefinition.DELETE_SCHEMA` -> `EntityTypeRequestDefinition.DeleteSchema`
- `EntityTypeRequestDefinition.DELETE_RELATIONSHIP` -> `EntityTypeRequestDefinition.DeleteRelationship`
- `IconColour.NEUTRAL` -> `IconColour.Neutral` (and other colors)
- `IconType.A_LARGE_SMALL` -> `IconType.ALargeSmall` (and other icons)

Note: IconColour and IconType may also come from @/lib/types/common after Plan 01. Check usage context.
  </action>
  <verify>
```bash
grep -r "from ['\"]@/lib/types/types['\"]" components/feature-modules/entity/ | wc -l
# Should be 0

npx tsc --noEmit 2>&1 | grep -c "entity/" || echo "0 errors"
# Should show minimal/no new errors
```
  </verify>
  <done>All entity domain files import from @/lib/types/entity with PascalCase enum members</done>
</task>

</tasks>

<verification>
```bash
# Verify no legacy imports remain in entity domain
grep -r "from ['\"]@/lib/types/types['\"]" components/feature-modules/entity/
# Should return empty

# Verify no SCREAMING_CASE enum members remain
grep -rE "\.(TEXT|NUMBER|CHECKBOX|EMAIL|PHONE|DATE|DATETIME|ATTRIBUTE|RELATIONSHIP)" components/feature-modules/entity/ --include="*.ts" --include="*.tsx" | head -20
# Should return empty (or only string literals, not enum references)

# Type check
npx tsc --noEmit
```
</verification>

<success_criteria>
- Zero files in entity domain import from @/lib/types/types
- All enum member references use PascalCase (SchemaType.Text, not SchemaType.TEXT)
- TypeScript compilation passes
- IMP-01 requirement satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/04-import-updates/04-02-SUMMARY.md`
</output>
